<?xml version="1.0" encoding="UTF-8"?>
<entities xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/entity-definition-3.xsd">

    <!--    This is the Party Table -->

    <entity entity-name="Party" package="Nikunj.party">
        <field name="partyId" type="id" is-pk="true"/>
        <field name="partyTypeEnumId" type="id" not-null="true"/>
        <field name="createdDate" type="date-time"/>

        <relationship type="one" related="moqui.basic.Enumeration" title="PartyType">
            <key-map field-name="partyTypeEnumId"/>
        </relationship>
        <seed-data>
            <moqui.basic.EnumerationType  enumTypeId="PartyType" description="Party Type"/>
            <moqui.basic.Enumeration enumId="PERSON" enumTypeId="PartyType" description="Individual Person came under this"/>
            <moqui.basic.Enumeration enumId="PARTY_GROUP" enumTypeId="PartyType" description="group of party or an organization"/>
        </seed-data>
    </entity>

    <!--    This is table Structure for the Persson table of Parties DB-->

    <entity entity-name="Person" package="Nikunj.party">
        <field name="partyId" type="id" is-pk="true"/>
        <field name="firstName" type="text-short"/>
        <field name="lastName" type="text-short"/>
        <field name="dateOfBirth" type="date"/>

        <relationship type="one" related="Nikunj.party.Party">
            <key-map field-name="partyId"/>
        </relationship>

    </entity>


    <!--    Below is the PartyGroup table Structure of Parties DB-->

    <entity entity-name="PartyGroup" package="Nikunj.party">
        <field name="partyId" type="id" is-pk="true"/>
        <field name="groupName" type="text-short" not-null="true"/>
        <field name="description" type="text-long"/>

        <relationship type="one" related="Nikunj.party.Party">
            <key-map field-name="partyId"/>
        </relationship>
    </entity>

    <!--    Below is the ContactMech table Structure of Parties DB-->

    <entity entity-name="ContactMech" package="Nikunj.party">
        <field name="contactMechId" type="id" is-pk="true"/>
        <field name="contactMechTypeId" type="id"/>
        <field name="infoString" type="text-medium" not-null="true" />
        <field name="createdDate" type="date-time"/>

        <relationship type="one" related="moqui.basic.Enumeration" title="ContactMechTypeId">
            <key-map field-name="contactMechTypeId"/>
        </relationship>
        <seed-data>
            <moqui.basic.EnumerationType  enumTypeId="ContactMechTypeId" description="Type of the contact"/>
            <moqui.basic.Enumeration enumId="EMAIL" enumTypeId="ContactMechTypeId" description="Email id of the user"/>
            <moqui.basic.Enumeration enumId="TELECOM_NUMBER" enumTypeId="ContactMechTypeId" description="Telecom number as provided by telecom service provider"/>
            <moqui.basic.Enumeration enumId="POSTAl_ADDRESS" enumTypeId="ContactMechTypeId" description="Postal Address of the address"/>
        </seed-data>
    </entity>

    <!--    Below is the PartyContactMech structure -->

    <entity entity-name="PartyContactMech" package="Nikunj.party">
        <field name="partyId" type="id" is-pk="true"/>
        <field name="contactMechId" type="id" is-pk="true"/>
        <field name="fromDate" type="date-time" is-pk="true"/>
        <field name="thruDate" type="date-time"/>
        <relationship type="one" related="Nikunj.party.Party">
            <key-map field-name="partyId"/>
        </relationship>
        <relationship type="one" related="Nikunj.party.ContactMech">
            <key-map field-name="contactMechId"/>
        </relationship>

    </entity>
</entities>